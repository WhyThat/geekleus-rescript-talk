// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Caml_option from "bs-platform/lib/es6/caml_option.js";

var emailRe = /^[^\s@]+@[^\s@]+$/;

function make(str) {
  if (emailRe.test(str)) {
    return str;
  }
  
}

function make$1(name, age, email) {
  var email$1 = make(email);
  if (email$1 !== undefined) {
    return {
            name: name,
            age: age,
            email: Caml_option.valFromOption(email$1)
          };
  }
  
}

function view(param) {
  return {
          name: param.name,
          age: param.age,
          email: param.email
        };
}

function persist(user) {
  return new Promise((function (resolve, param) {
                setTimeout((function (param) {
                        return resolve(user);
                      }), 2000);
                
              }));
}

export {
  make$1 as make,
  persist ,
  view ,
  
}
/* No side effect */
